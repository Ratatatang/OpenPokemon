[gd_scene load_steps=6 format=2]

[ext_resource path="res://OpenWorld/World Generation/SquareGradient.png" type="Texture" id=1]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

uniform sampler2D island_tex;

void fragment(){
	vec2 uvn=abs(UV-0.5) * 1.3;
	float maxc=max(uvn.y,uvn.x);
	vec3 mate=vec3(maxc);
	
	vec4 island = texture(island_tex, UV);
	
	float noise = 1.0;
	vec2 uv_noise = vec2(noise, 1);
	
	
	vec3 isl = island.xyz - mate;
	vec3 grad = texture(TEXTURE, isl.xy).xyz;
	
	vec4 color = vec4(grad, 2);

	COLOR = vec4(0.6 - color.rgb, color.a);
}
"

[sub_resource type="OpenSimplexNoise" id=3]
seed = 4
octaves = 5
period = 103.0
persistence = 0.25
lacunarity = 1.8

[sub_resource type="NoiseTexture" id=4]
noise = SubResource( 3 )

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/island_tex = SubResource( 4 )

[node name="ShaderProcess" type="Viewport"]
size = Vector2( 50, 50 )
transparent_bg = true
handle_input_locally = false
hdr = false
usage = 0
debug_draw = 1
render_target_update_mode = 3
gui_disable_input = true

[node name="ShaderProcess" type="TextureRect" parent="."]
material = SubResource( 2 )
margin_right = 50.0
margin_bottom = 50.0
texture = ExtResource( 1 )
